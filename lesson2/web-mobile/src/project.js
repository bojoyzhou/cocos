require=function e(t,i,o){function n(c,a){if(!i[c]){if(!t[c]){var r="function"==typeof require&&require;if(!a&&r)return r(c,!0);if(s)return s(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var l=i[c]={exports:{}};t[c][0].call(l.exports,function(e){var i=t[c][1][e];return n(i?i:e)},l,l.exports,e,t,i,o)}return i[c].exports}for(var s="function"==typeof require&&require,c=0;c<o.length;c++)n(o[c]);return n}({"table.js":[function(e,t,i){"use strict";cc._RFpush(t,"4c05dQjq2xIoJtH//PFrBbi","table.js"),cc.Class({"extends":cc.Component,properties:{ball1:{"default":null,type:cc.Sprite},ball2:{"default":null,type:cc.Sprite},ball3:{"default":null,type:cc.Sprite},ball4:{"default":null,type:cc.Sprite},ball5:{"default":null,type:cc.Sprite}},ctor:function(){return this.space=null,this.size=5,this.balls=[],this.sprites=[],this.initPhysics(),this.update(),this},setupDebugNode:function(){this.debugNode=cc.PhysicsDebugNode.create(this.space),this.debugNode.visible=!0;var e=this.node;this.debugNode.setPosition(0,0),e._sgNode.addChild(this.debugNode,100)},initPhysics:function(){var e=cc.director.getWinSize(),t=this.space=new cp.Space;this.space.gravity=cp.v(0,0),this.space.damping=.9;var i=this.space.staticBody,o=cp.v(0,0),n=cp.v(e.width,0),s=cp.v(0,e.height),c=cp.v(e.width,e.height),a=[new cp.SegmentShape(i,o,n,0),new cp.SegmentShape(i,n,c,0),new cp.SegmentShape(i,c,s,0),new cp.SegmentShape(i,s,o,0)];a.forEach(function(e){e.setElasticity(1),e.setFriction(1),t.addStaticShape(e)})},onLoad:function(){this.setupDebugNode(),cc.view.setDesignResolutionSize(960,640,cc.ResolutionPolicy.SHOW_ALL);var e,t=this.balls,i=this.space,o=(this.sprites,this);window.main=this;for(var n=this.size;n>0;n--)e=o["ball"+n],t.push(e);this.balls.forEach(function(e){var t=new cp.Body(1,cp.momentForCircle(1,0,e.node.width/2,cp.v(0,0))),n=new cp.CircleShape(t,e.node.width/2,cp.v(0,0));t.setPos(e.node.getPosition()),t.damping=.2,n.setFriction(.2),n.setElasticity(.3),i.addShape(n),i.addBody(t),e.body=t,e.node.on("mousedown",function(t){console.log("mousedown"),o.target=e}),console.log(e.node.getPosition(),t.p)}),this.node.on("mouseup",function(e){if(o.target){var t=e.getLocation();t=cp.v(t.x,t.y);var i=o.target.node.getPosition();i=cp.v(i.x,i.y);var n=i.sub(t),s=cp.v.normalize(n),c=cp.v.len(n);c=c>1e3?1e3:c;var a=s.mult(c);console.log(t,i,s,c,a),o.target.body.setVel(a),o.target=null}})},update:function(e){var t=.03;this.space.step(t),this.balls.forEach(function(e){var t=e.body.p;e.node.x=t.x,e.node.y=t.y})}}),cc._RFpop()},{}]},{},["table.js"]);